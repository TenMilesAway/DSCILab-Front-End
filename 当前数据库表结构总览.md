# 当前数据库表结构总览

## 📊 数据库概况

**数据库名称**: `web`  
**总表数**: 21个表  
**新增表**: 1个 (`lab_user`)  

## 🆕 新创建的表

### lab_user (实验室用户表) - 我们新建的

| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| `id` | BIGINT | 用户ID | 主键，自增 |
| `student_number` | VARCHAR(20) | 学号/工号 | 唯一 |
| `username` | VARCHAR(50) | 登录用户名 | 非空，唯一 |
| `real_name` | VARCHAR(50) | 真实姓名 | 非空 |
| `english_name` | VARCHAR(100) | 英文名 | 可空 |
| `password` | VARCHAR(255) | 密码（加密） | 非空 |
| `gender` | TINYINT | 性别：0=未知,1=男,2=女 | 默认0 |
| `identity` | TINYINT | 身份：1=管理员,2=教师,3=学生 | 非空 |
| `academic_status` | TINYINT | 学术身份：1=教授,2=副教授,3=讲师,4=博士,5=硕士 | 可空 |
| `research_area` | TEXT | 研究方向 | 可空 |
| `phone` | VARCHAR(20) | 手机号 | 唯一 |
| `email` | VARCHAR(100) | 邮箱 | 唯一 |
| `status` | TINYINT | 状态：1=在读/在职,2=毕业/离职 | 默认1 |
| `enrollment_year` | YEAR | 入学/入职年份 | 可空 |
| `graduation_year` | YEAR | 毕业/离职年份 | 可空 |
| `graduation_dest` | VARCHAR(255) | 毕业去向 | 可空 |
| `photo` | VARCHAR(255) | 照片路径 | 可空 |
| `resume` | TEXT | 个人简历 | 可空 |
| `homepage_url` | VARCHAR(255) | 个人主页 | 可空 |
| `orcid` | VARCHAR(50) | ORCID ID | 可空 |
| `is_active` | TINYINT(1) | 账号是否启用 | 默认1 |
| `creator_id` | BIGINT | 创建人ID | 可空 |
| `create_time` | TIMESTAMP | 创建时间 | 默认当前时间 |
| `updater_id` | BIGINT | 更新人ID | 可空 |
| `update_time` | TIMESTAMP | 更新时间 | 自动更新 |
| `deleted` | TINYINT(1) | 是否删除 | 默认0 |

**当前数据**: 5个用户（1个管理员，2个教师，2个学生）

## 📋 原有的实验室表

### lab_member (原有成员表)

| 字段名 | 类型 | 说明 |
|--------|------|------|
| `id` | INT UNSIGNED | 成员ID，主键 |
| `name` | VARCHAR(255) | 姓名 |
| `byname` | VARCHAR(255) | 英文名/别名，唯一 |
| `email` | VARCHAR(255) | 邮箱 |
| `resume` | VARCHAR(255) | 简历 |
| `is_off` | BIT(1) | 是否离职 |
| `type` | INT UNSIGNED | 成员类型 |
| `join_year` | YEAR | 加入年份 |

**数据量**: 22条记录

### lab_paper (学术论文表)

| 字段名 | 类型 | 说明 |
|--------|------|------|
| `id` | INT UNSIGNED | 论文ID，主键 |
| `type` | INT | 论文类型 |
| `title` | VARCHAR(255) | 标题 |
| `author` | VARCHAR(255) | 作者 |
| `date` | DATE | 发表日期 |
| `publication` | VARCHAR(255) | 发表期刊/会议 |
| `conf` | VARCHAR(255) | 会议名称 |
| `number` | VARCHAR(255) | 期刊卷号 |
| `place` | VARCHAR(255) | 发表地点 |
| `publisher` | VARCHAR(255) | 出版商 |
| `page` | VARCHAR(255) | 页码 |
| `doi` | VARCHAR(255) | DOI |
| `url` | VARCHAR(255) | URL链接 |
| `desc` | VARCHAR(255) | 描述 |

**数据量**: 6条记录

### lab_fund (科研基金表)

| 字段名 | 类型 | 说明 |
|--------|------|------|
| `id` | INT UNSIGNED | 基金ID，主键 |
| `title_cn` | VARCHAR(255) | 中文标题 |
| `title_en` | VARCHAR(255) | 英文标题 |
| `number` | VARCHAR(255) | 项目编号 |
| `type` | INT UNSIGNED | 基金类型 |
| `supporter` | VARCHAR(255) | 负责人 |
| `start_date` | DATE | 开始日期 |
| `end_date` | DATE | 结束日期 |
| `total_amount` | VARCHAR(255) | 总金额 |
| `support_cn` | VARCHAR(255) | 中文资助机构 |
| `support_en` | VARCHAR(255) | 英文资助机构 |
| `desc` | VARCHAR(255) | 描述 |

**数据量**: 6条记录

### lab_type (类型字典表)

用于存储各种类型的配置信息，包括：
- `MEMBERTYPE`: 成员类型
- `FUNDTYPE`: 基金类型  
- `PAPERTYPE`: 论文类型
- `DEVICETYPE`: 设备类型

**数据量**: 28条记录

## 🔗 关系表

### rs_member_fund (成员-基金关联)
- 记录成员参与的基金项目
- **数据量**: 6条记录

### rs_member_paper (成员-论文关联)  
- 记录成员发表的论文
- **数据量**: 9条记录

### rs_fund_paper (基金-论文关联)
- 记录基金资助的论文  
- **数据量**: 2条记录

## ⚙️ 系统管理表

### sys_user (系统用户表)
- **数据量**: 53个用户
- 用于系统登录认证

### sys_role (用户角色表)
- **数据量**: 5个角色
- 包含管理员、学生、教师等角色

### sys_menu (系统菜单表)
- **数据量**: 65个菜单项
- 用于权限控制

### 其他系统表
- `sys_config`: 系统配置
- `sys_dept`: 部门信息 (11条记录)
- `sys_login_info`: 登录日志
- `sys_notice`: 系统公告
- `sys_operation_log`: 操作日志
- `sys_post`: 职位信息
- `sys_role_menu`: 角色菜单关联
- `sys_user_type_config`: 用户类型配置

## 🔄 数据关系分析

### 新旧表关系
1. **lab_user** (新) ↔ **lab_member** (旧)
   - 功能重叠，但lab_user更完善
   - 可以通过username关联sys_user

2. **成果管理**
   - 现有：lab_paper, lab_fund 
   - 缺少：专利表、项目表
   - 关联表：rs_* 系列

### 建议的整合方案

1. **保留现有表结构**，避免破坏现有功能
2. **lab_user作为新的用户管理中心**
3. **逐步迁移数据**从lab_member到lab_user
4. **扩展成果管理**，基于现有lab_paper和lab_fund

## 🎯 下一步开发建议

### 立即可做
1. **完善lab_user管理功能**
   - 用户信息修改接口
   - 用户列表查询接口

### 短期目标  
2. **扩展成果管理**
   - 基于现有lab_paper表创建论文管理接口
   - 基于现有lab_fund表创建基金管理接口
   - 添加专利管理功能

### 中期目标
3. **数据整合**
   - lab_member数据迁移到lab_user
   - 统一用户管理入口

### 长期目标
4. **系统完善**
   - 统计分析功能
   - 权限细化
   - 数据导入导出

---

**总结**: 你的数据库已经有了很好的基础，新的lab_user表设计合理，现在可以基于现有的lab_paper和lab_fund表快速开发成果管理功能！
